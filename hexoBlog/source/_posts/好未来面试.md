---
title: 好未来面试
categories: 前端
tags: 
    - 前端
    - JS
#description: 
#date: 
---

好未来面试，2019年，记录下来
<!-- more -->

#### 一、网站安全 XSS、CSRF、DDOS
###### 1.XSS(Cross Site Scripting): 跨站脚本攻击 
在客户端评论区输入script代码获取用户信息cookie，利用img发送给攻击者，或者输入删除数据库的操作，存入后端执行删除库的命令
防范措施：
  1. 在网站的Cookie加上HttpOnly属性：
     Set-Cookie: JSESSIONID=xxxxxx;Path=/;Domain=book.com;HttpOnly
     这样浏览器就禁止JavaScript的读取了。
  2. 字符过滤：将用户输入的特殊字符例如<,>过滤掉。例如把<变成&lt;，把>变成&gt;

###### 2.CSRF(Cross Site Request Forgery) 跨站请求伪造
攻击原理：
   1. 用户打开浏览器，访问受信任银行网站bank.com，并保留了登录凭证（Cookie）
   2. 用户未退出银行网站之前，在同一浏览器中，打开一个TAB页访问其他网站B
   3. 这时候网站B 已被黑客注入诱导信息，加入是一张图片,图片地址指向
     src=”http://bank.com/withdraw?account=bob&amount=1000000&for=黑客
     点击之后转账给黑客这个账户，浏览器会默认携带bank.com的Cookie。
   4. 浏览器在接收到这些攻击性代码请求后，根据网站B的请求，在用户不知情的情况下携带Cookie信息，根据用户的Cookie信息以C的权限处理该请求，导致来自黑客请求恶意代码被执行。
防范措施：
  1. 验证 HTTP Referer 字段
     + 服务器会验证客户端的请求来源，如果本网站请求的则响应，否则不响应。
       但是即使这样，验证 HTTP Referer 字段 这种方式也存在安全隐患
            1. 对于某些浏览器，比如 IE6 或 FF2，目前已经有一些方法可以篡改 Referer 值    
            2. 用户自己可以设置浏览器使其在发送请求时不再提供 Referer
  2. 使用 token 
  3. 加验证码验证  

#### 二、new 一个对象，所发生的事情？
JS的new操作到底干了些什么呢？我们一步一步来看。

比如我定义了一个function，并执行new操作：
```
function Foo(){}
var foo = new Foo();
```
补补脑：
每一个函数中都会有一个叫prototype的属性，类型是object，即一个引用对象。
每一个对象中都会有一个叫\_\_proto__的属性，类型野是object，也是一个引用对象。
首先，当JavaScript引擎执行new操作时，会马上开辟一个块内存，创建一个空对象（并将this指向这个对象）。
接着，执行构造函数Foo()，对这个空对象进行构造（构造函数里有什么属性和方法都一一给这个空白对象装配上去，这就是为何它叫构造函数了）。
然而，给这个空对象添加了一个叫\_\_proto__的属性，而且这个\_\_proto__指向Foo()的prototype对象。换句话说，就是\_\_proto__ = prototype;

#### 三、var 声明一个字符串和，new String() 声明有什么区别

#### 四、浏览器输入url 回车，经历了什么（请求到返回，每一步都可讲）
本文链接：https://blog.csdn.net/jiao_0509/article/details/82491299
这是一道面试会经常问的问题，平时虽然很常见的操作，但是探究其底层原理，可能并不是一件简单的事情，于是我从各处搜罗整理下全过程，在这里做分享。

第一步：浏览器输入域名

例如输入：www.csdn.net/



第二步：浏览器查找域名的IP地址

浏览器会把输入的域名解析成对应的IP，其过程如下：

1.查找浏览器缓存：因为浏览器一般会缓存DNS记录一段时间，不同浏览器的时间可能不一样，一般2-30分钟不等，浏览器去查找这些缓存，如果有缓存，直接返回IP，否则下一步。

2.查找系统缓存：浏览器缓存中找不到IP之后，浏览器会进行系统调用（windows中是gethostbyname），查找本机的hosts文件，如果找到，直接返回IP，否则下一步。

3.查找路由器缓存：如果1,2步都查询无果，则需要借助网络，路由器一般都有自己的DNS缓存，将前面的请求发给路由器，查找ISP 服务商缓存 DNS的服务器，如果查找到IP则直接返回，没有的话继续查找。

4.递归查询：如果以上步骤还找不到，则ISP的DNS服务器就会进行递归查询，所谓递归查询就是如果主机所询问的本地域名服务器不知道被查询域名的IP地址，那么本地域名服务器就以DNS客户的身份，向其他根域名服务器继续发出查询请求报文，而不是让该主机自己进行下一步查询。（本地域名服务器地址是通过DHPC协议获取地址，DHPC是负责分配IP地址的）

5.迭代查询：本地域名服务器采用迭代查询，它先向一个根域名服务器查询。本地域名服务器向根域名服务器的查询一般都是采用迭代查询。所谓迭代查询就是当根域名服务器收到本地域名服务器发出的查询请求报文后，要么告诉本地域名服务器下一步应该查询哪一个域名服务器，然后本地域名服务器自己进行后续的查询。（而不是替代本地域名服务器进行后续查询）。

本例子中：根域名服务器告诉本地域名服务器，下一次应查询的顶级域名服务器dns.net的IP地址。本地域名服务器向顶级域名服务器dns.net进行查询。顶级域名服务器dns.net告诉本地域名服务器，下一次应查询的权限域名服务器dns.csdn.net的IP地址。本地域名服务器向权限域名服务器dns.csdn.net进行查询。权限域名服务器dns.csdn.net告诉本地域名服务器，所查询的主机www.csdn.net的IP地址。本地域名服务器最后把结果告诉主机。

第三步 ：浏览器与目标服务器建立TCP连接

1.      主机浏览器通过DNS解析得到了目标服务器的IP地址后，与服务器建立TCP连接。

2.      TCP3次握手连接：浏览器所在的客户机向服务器发出连接请求报文（SYN标志为1）；服务器接收报文后，同意建立连接，向客户机发出确认报文（SYN，ACK标志位均为1）；客户机接收到确认报文后，再次向服务器发出报文，确认已接收到确认报文；此处客户机与服务器之间的TCP连接建立完成，开始通信。

第四步：浏览器通过http协议发送请求

浏览器向主机发起一个HTTP-GET方法报文请求。请求中包含访问的URL，也就是http://www.csdn.com/ ，KeepAlive，长连接，还有User-Agent用户浏览器操作系统信息，编码等。值得一提的是Accep-Encoding和Cookies项。Accept-Encoding一般采用gzip，压缩之后传输html文件。Cookies如果是首次访问，会提示服务器建立用户缓存信息，如果不是，可以利用Cookies对应键值，找到相应缓存，缓存里面存放着用户名，密码和一些用户设置项。

第五步：某些服务会做永久重定向响应

对于大型网站存在多个主机站点，了负载均衡或者导入流量，提高SEO排名，往往不会直接返回请求页面，而是重定向。返回的状态码就不是200OK，而是301,302以3开头的重定向码，浏览器在获取了重定向响应后，在响应报文中Location项找到重定向地址，浏览器重新第一步访问即可。

重定向的作用：重定向是为了负载均衡或者导入流量，提高SEO排名。利用一个前端服务器接受请求，然后负载到不同的主机上，可以大大提高站点的业务并发处理能力；重定向也可将多个域名的访问，集中到一个站点；由于baidu.com，www.baidu.com会被搜索引擎认为是两个网站，照成每个的链接数都会减少从而降低排名，永久重定向会将两个地址关联起来，搜索引擎会认为是同一个网站，从而提高排名。

第六步：浏览器跟踪重定向地址

当浏览器知道了重定向后最终的访问地址之后，重新发送一个http请求，发送内容同上。

第七步：服务器处理请求

服务器接收到获取请求，然后处理并返回一个响应。

第八步：服务器发出一个HTML响应

返回状态码200 OK，表示服务器可以响应请求，返回报文，由于在报头中Content-type为“text/html”，浏览器以HTML形式呈现，而不是下载文件。

第九步：释放TCP连接

1.     浏览器所在主机向服务器发出连接释放报文，然后停止发送数据；

2.     服务器接收到释放报文后发出确认报文，然后将服务器上未传送完的数据发送完；

3.     服务器数据传输完毕后，向客户机发送连接释放报文；

4.     客户机接收到报文后，发出确认，然后等待一段时间后，释放TCP连接；

第十步：浏览器显示页面

在浏览器没有完整接受全部HTML文档时，它就已经开始显示这个页面了，浏览器接收到返回的数据包，根据浏览器的渲染机制对相应的数据进行渲染。渲染后的数据，进行相应的页面呈现和脚步的交互。

第十一步：浏览器发送获取嵌入在HTML中的其他内容

比如一些样式文件，图片url，js文件url等，浏览器会通过这些url重新发送请求，请求过程依然是HTML读取类似的过程，查询域名，发送请求，重定向等。不过这些静态文件是可以缓存到浏览器中的，有时访问这些文件不需要通过服务器，直接从缓存中取。某些网站也会使用第三方CDN进行托管这些静态文件。

 

好了，总结就这里
————————————————
版权声明：本文为CSDN博主「jiao_0509」的原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接及本声明。
原文链接：https://blog.csdn.net/jiao_0509/article/details/82491299

#### 五、vertical-align 原理？根据什么对齐的，，，这问的。。。

#### 六、有没有把自己的脚手架，做成cli（就是 vue admin这种放到npm里管理 ）

#### 七、 'hao-wei-lai-gong-si' 写一个方法转成 'haoWeiLaiGongSi'  （有首字母转大写方法？）